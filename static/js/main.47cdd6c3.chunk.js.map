{"version":3,"sources":["components/Filter.jsx","utils/helper.js","components/AviaSaleCard.jsx","reducers/aviaSalesReducer.js","assets/logo.svg","App.js","actions/aviaSale.js","reducers/index.js","index.js"],"names":["useStyles","makeStyles","theme","root","maxWidth","boxShadow","checkbox_container","background","border","paper","margin","formLabel","marginBottom","color","fontStyle","fontWeight","fontSize","lineHeight","formControl","marginTop","labelText","withStyles","label","textTransform","FormControlLabel","Filter","filter","setFilter","classes","allHandler","all","without","one","two","three","className","Paper","FormControl","component","FormLabel","ListItem","role","undefined","dense","button","onClick","ListItemIcon","control","Checkbox","name","onChange","checked","ListItemText","primary","getPeriod","start","durationInMin","format","d1","moment","d2","add","travelTime","duration","hours","Math","floor","minutes","stops","minWidth","paddingLeft","paddingRight","bullet","display","transform","title","pos","imageAndPrice","justifyContent","body","group","flexDirection","marginRight","cover","height","width","item","price","AviaSaleCard","data","Card","CardContent","src","carrier","segments","map","d","index","Grid","container","spacing","xs","origin","destination","date","length","join","SET_AVIA_SALES","SET_SEARCH_ID","SET_IS_FETCHING","SET_FETCH_ERROR","defaultState","tickets","searchId","isFetching","isFetchError","setAviaSales","type","setIsFetching","bool","payload","setFetchError","main","list","marginLeft","img","padding","textAlign","error","StyledButton","Button","App","dispatch","useDispatch","useSelector","state","avia","useState","sortTickets","setSortTickets","filterTickets","useCallback","arr","Object","keys","every","key","f","useEffect","slice","a","axios","get","response","setTimeout","getAviaSales","Alert","severity","AlertTitle","logo","ButtonGroup","variant","size","aria-label","temp","JSON","parse","stringify","sort","b","tem","CircularProgress","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.47cdd6c3.chunk.js","sourcesContent":["import React from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport {\r\n    FormControl,\r\n    FormControlLabel,\r\n    FormLabel,\r\n    Paper,\r\n    withStyles\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        maxWidth: 300,\r\n        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)',\r\n    },\r\n    checkbox_container: {\r\n        '&:hover': {\r\n            background: \"#F1FCFF\",\r\n            border: 0,\r\n        },\r\n    },\r\n    paper: {\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n    },\r\n    formLabel: {\r\n        margin: 20,\r\n        marginBottom: 5,\r\n        color: '#4A4A4A',\r\n        fontStyle: 'normal',\r\n        fontWeight: 550,\r\n        fontSize: '14px',\r\n        lineHeight: '12px'\r\n    },\r\n    formControl: {\r\n        marginTop: 20,\r\n    },\r\n    labelText: {\r\n        margin: '0 -20px'\r\n    }\r\n}))\r\n\r\nconst Styled = withStyles({\r\n    root: {\r\n        margin: 0\r\n    },\r\n    label: {\r\n        textTransform: 'capitalize',\r\n    },\r\n})(FormControlLabel);\r\n\r\nexport default function Filter({filter, setFilter}) {\r\n    const classes = useStyles();\r\n\r\n    const allHandler = () => {\r\n        if (!filter.all) {\r\n            setFilter({all: true, without: true, one: true, two: true, three: true})\r\n        } else {\r\n            setFilter({all: false, without: false, one: false, two: false, three: false})\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Paper className={classes.paper}>\r\n                <FormControl component=\"fieldset\" className={classes.formControl}>\r\n                    <FormLabel className={classes.formLabel} component=\"legend\">КОЛИЧЕСТВО ПЕРЕСАДОК</FormLabel>\r\n                    <ListItem role={undefined} dense button onClick={() => allHandler()}>\r\n                        <ListItemIcon>\r\n                            <FormControlLabel\r\n                                control={<Checkbox name=\"gilad\"\r\n                                                   color=\"primary\"\r\n                                                   onChange={() => allHandler()}\r\n                                                   checked={filter.all}/>}\r\n                                className={classes.checkbox_container}\r\n                            />\r\n                        </ListItemIcon>\r\n                        <ListItemText className={classes.labelText} primary='Все'/>\r\n                    </ListItem>\r\n                    <ListItem role={undefined} dense button\r\n                              onClick={() => setFilter({...filter, without: !filter.without})}>\r\n                        <ListItemIcon>\r\n                            <FormControlLabel\r\n                                control={<Checkbox name=\"gilad\"\r\n                                                   color=\"primary\"\r\n                                                   onChange={() => setFilter({...filter, without: !filter.without})}\r\n                                                   checked={filter.without}/>}\r\n                                className={classes.checkbox_container}\r\n                            />\r\n                        </ListItemIcon>\r\n                        <ListItemText className={classes.labelText} primary='Без пересадок'/>\r\n                    </ListItem>\r\n                    <ListItem role={undefined} dense button onClick={() => setFilter({...filter, one: !filter.one})}>\r\n                        <ListItemIcon>\r\n                            <FormControlLabel\r\n                                control={<Checkbox name=\"gilad\"\r\n                                                   color=\"primary\"\r\n                                                   onChange={() => setFilter({...filter, one: !filter.one})}\r\n                                                   checked={filter.one}/>}\r\n                                className={classes.checkbox_container}\r\n                            />\r\n                        </ListItemIcon>\r\n                        <ListItemText className={classes.labelText} primary='1 пересадка'/>\r\n                    </ListItem>\r\n                    <ListItem role={undefined} dense button onClick={() => setFilter({...filter, two: !filter.two})}>\r\n                        <ListItemIcon>\r\n                            <FormControlLabel\r\n                                control={<Checkbox name=\"gilad\"\r\n                                                   color=\"primary\"\r\n                                                   onChange={() => setFilter({...filter, two: !filter.two})}\r\n                                                   checked={filter.two}/>}\r\n                                className={classes.checkbox_container}\r\n                            />\r\n                        </ListItemIcon>\r\n                        <ListItemText className={classes.labelText} primary='2 пересадки'/>\r\n                    </ListItem>\r\n                    <ListItem role={undefined} dense button\r\n                              onClick={() => setFilter({...filter, three: !filter.three})}>\r\n                        <ListItemIcon>\r\n                            <FormControlLabel\r\n                                control={<Checkbox name=\"gilad\"\r\n                                                   color=\"primary\"\r\n                                                   onChange={() => setFilter({...filter, three: !filter.three})}\r\n                                                   checked={filter.three}/>}\r\n                                className={classes.checkbox_container}\r\n                            />\r\n                        </ListItemIcon>\r\n                        <ListItemText className={classes.labelText} primary='3 пересадки'/>\r\n                    </ListItem>\r\n                </FormControl>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}\r\n","import moment from \"moment\";\r\n\r\nexport function getPeriod (start, durationInMin) {\r\n    const format = 'H:mm';\r\n    const d1 = moment(start);\r\n    const d2 = moment(d1).add(durationInMin, 'minutes');\r\n\r\n    return d1.format(format) + ' - ' + d2.format(format);\r\n}\r\n\r\nexport function travelTime (duration) {\r\n    const hours = Math.floor(duration /60);\r\n    const minutes = duration - hours * 60;\r\n    return <>{hours}ч {minutes}м</>\r\n}\r\n\r\nexport function stops (stops) {\r\n    switch(stops) {\r\n        case 0:\r\n            return 'Без пересадок';\r\n        case 1:\r\n            return '1 пересадка';\r\n        default:\r\n            return `${stops} пересадки`;\r\n    }\r\n}","import React from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport {Grid} from \"@material-ui/core\";\r\nimport {getPeriod, stops, travelTime} from \"../utils/helper\";\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        minWidth: 275,\r\n        marginTop: '17px',\r\n        paddingLeft: '20px',\r\n        paddingRight: '20px',\r\n        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\r\n    },\r\n    bullet: {\r\n        display: 'inline-block',\r\n        margin: '0 2px',\r\n        transform: 'scale(0.8)',\r\n    },\r\n    title: {\r\n        fontSize: 14,\r\n    },\r\n    pos: {\r\n        marginBottom: 12,\r\n    },\r\n    imageAndPrice: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        marginBottom: '20px'\r\n    },\r\n    body: {\r\n        display: 'flex',\r\n        marginTop: '10px'\r\n    },\r\n    group: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        marginRight: '10px'\r\n    },\r\n    cover: {\r\n        height: 40,\r\n        width: 120,\r\n    },\r\n    label: {\r\n        fontStyle: 'normal',\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        lineHeight: '12px',\r\n        color: '#A0B0B9'\r\n    },\r\n    item: {\r\n        marginTop: '8px',\r\n        fontStyle: 'normal',\r\n        fontWeight: 500,\r\n        fontSize: '14px',\r\n        lineHeight: '12px',\r\n        color: '#4A4A4A'\r\n    },\r\n    price: {\r\n        marginTop: '8px',\r\n        color: \"#2196F3\",\r\n        fontWeight: 600,\r\n        fontStyle: 'normal',\r\n        fontSize: '24px',\r\n        lineHeight: '24px'\r\n    }\r\n});\r\n\r\nexport default function AviaSaleCard({data}) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Card className={classes.root}>\r\n            <CardContent>\r\n                <div className={classes.imageAndPrice}>\r\n                    <div>\r\n                        <div className={classes.price}>{data.price} Р</div>\r\n                    </div>\r\n                    <div>\r\n                        <img\r\n                            className={classes.cover}\r\n                            src={`https://pics.avs.io/99/36/${data.carrier}.png`}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                {data.segments.map((d, index) => {\r\n                    return <Grid container spacing={3} key={index}>\r\n                        <Grid item xs>\r\n                            <div className={classes.label}>{d.origin}-{d.destination}</div>\r\n                            <div className={classes.item}>{getPeriod(d.date, d.duration)}</div>\r\n                        </Grid>\r\n                        <Grid item xs>\r\n                            <div className={classes.label}>В ПУТИ</div>\r\n                            <div className={classes.item}>{travelTime(d.duration)}</div>\r\n                        </Grid>\r\n                        <Grid item xs>\r\n                            <div className={classes.label}>{stops(d.stops.length)}</div>\r\n                            <div className={classes.item}>{d.stops.join(', ')}</div>\r\n                        </Grid>\r\n                    </Grid>\r\n                })}\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n","const SET_AVIA_SALES = 'SET_AVIA_SALES'\r\nconst SET_SEARCH_ID = 'SET_SEARCH_ID'\r\nconst SET_IS_FETCHING = 'SET_IS_FETCHING'\r\nconst SET_FETCH_ERROR = 'SET_FETCH_ERROR'\r\n\r\n\r\nconst defaultState = {\r\n    tickets: [],\r\n    searchId: '',\r\n    isFetching: true,\r\n    isFetchError: false\r\n}\r\n\r\nexport const aviaSalesReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case SET_AVIA_SALES:\r\n            return {\r\n                ...state,\r\n                tickets: action.tickets,\r\n                isFetching: false\r\n            }\r\n        case SET_SEARCH_ID:\r\n            return {\r\n                ...state,\r\n                searchId: action.payload.searchId\r\n            }\r\n        case SET_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.payload\r\n            }\r\n        case SET_FETCH_ERROR:\r\n            return {\r\n                ...state,\r\n                isFetchError: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAviaSales = (tickets) => ({type: SET_AVIA_SALES, tickets})\r\nexport const setSearchId = (searchId) => ({type: SET_SEARCH_ID, payload: searchId})\r\nexport const setIsFetching = (bool) => ({type: SET_IS_FETCHING, payload: bool})\r\nexport const setFetchError = (bool) => ({type: SET_FETCH_ERROR, payload: bool})","export default __webpack_public_path__ + \"static/media/logo.dce2d712.svg\";","import React, {useCallback, useEffect, useState} from 'react';\nimport Filter from \"./components/Filter\";\nimport {Button, ButtonGroup, CircularProgress, withStyles} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport AviaSaleCard from \"./components/AviaSaleCard\";\nimport {getAviaSales, getSearchId} from \"./actions/aviaSale\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport logo from './assets/logo.svg';\nimport {Alert, AlertTitle} from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        background: '#F3F7FA',\n    },\n    main: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center'\n    },\n    list: {\n        marginTop: '17px',\n        marginBottom: '50px',\n    },\n    group: {\n        width: 500,\n        marginLeft: '20px'\n    },\n    img: {\n        padding: '50px 0',\n        textAlign: 'center'\n    },\n    button: {\n        color: '#4A4A4A',\n        fontStyle: 'normal',\n        fontWeight: 550,\n        fontSize: '14px',\n        lineHeight: '12px'\n    },\n    error: {\n        display: 'flex',\n        justifyContent: 'center',\n    },\n}));\n\nconst StyledButton = withStyles({\n    root: {\n        background: 'white',\n        height: 48,\n        padding: '0 30px',\n        width: 250,\n        '&:hover': {\n            background: \"#2196F3\",\n            border: 0,\n            color: '#fff'\n        },\n        '&:onClick': {\n            background: \"#2196F3\",\n            border: 0,\n            color: '#fff'\n        },\n    },\n    label: {\n        textTransform: 'capitalize',\n    },\n})(Button);\n\nconst App = () => {\n\n    const dispatch = useDispatch()\n    const searchId = useSelector(state => state.avia.searchId)\n    const tickets = useSelector(state => state.avia.tickets)\n    const isFetching = useSelector(state => state.avia.isFetching)\n    const isFetchError = useSelector(state => state.avia.isFetchError)\n    const classes = useStyles();\n    const [sortTickets, setSortTickets] = useState([]);\n    const [filter, setFilter] = useState({all: true, without: false, one: false, two: false, three: false})\n\n    const filterTickets = useCallback((arr) => {\n        if (Object.keys(filter).every((key) => {\n            return filter[key] === false;\n        })) {\n            return arr;\n        }\n        return arr.filter((f) => {\n            if (filter.all) return f;\n            if (filter.without && f.segments[0].stops.length === 0 && f.segments[1].stops.length === 0) return f;\n            if (filter.one && f.segments[0].stops.length === 1 && f.segments[1].stops.length === 1) return f;\n            if (filter.two && f.segments[0].stops.length === 2 && f.segments[1].stops.length === 2) return f;\n            if (filter.three && f.segments[0].stops.length === 3 && f.segments[1].stops.length === 3) return f;\n        })\n    }, [filter])\n\n    useEffect(() => {\n        setSortTickets(filterTickets(tickets).slice(0, 5))\n    }, [tickets, filterTickets])\n\n    useEffect(() => {\n        dispatch(getSearchId())\n    }, [])\n\n    useEffect(() => {\n        dispatch(getAviaSales(searchId))\n        setSortTickets(tickets)\n    }, [searchId])\n\n    const sortByPriceAsc = () => {\n        const temp = JSON.parse(JSON.stringify(sortTickets))\n        temp.sort((a, b) => a.price > b.price ? 1 : -1)\n        setSortTickets(temp)\n    }\n\n    const sortByDurationAsc = () => {\n        const tem = JSON.parse(JSON.stringify(sortTickets))\n        tem.sort((a, b) => b.segments[0].duration + b.segments[1].duration < a.segments[0].duration + a.segments[1].duration ? 1 : -1)\n        setSortTickets(tem)\n    }\n\n    return (\n        <div>\n            {isFetchError &&\n            <Alert severity=\"error\" className={classes.error}>\n                <AlertTitle>Server Error!</AlertTitle>\n                Произошла ошибка! — <strong>Пожалуйста, обновите страницу!</strong>\n            </Alert>\n            }\n            <div className={classes.root}>\n                <div className={classes.img}>\n                    <img src={logo}/>\n                </div>\n                <div className={classes.main}>\n                    <div>\n                        <Filter filter={filter} setFilter={setFilter}/>\n                    </div>\n                    <div className={classes.group}>\n                        <div>\n                            <ButtonGroup variant=\"outlined\" size=\"large\" aria-label=\"large outlined button group\">\n                                <StyledButton className={classes.button} onClick={sortByPriceAsc}>САМЫЙ\n                                    ДЕШЕВЫЙ</StyledButton>\n                                <StyledButton className={classes.button} onClick={sortByDurationAsc}>САМЫЙ\n                                    БЫСТРЫЙ</StyledButton>\n                            </ButtonGroup>\n                        </div>\n                        <div className={classes.list}>\n                            {!isFetching ?\n                                sortTickets.map((data, index) => {\n                                    return <AviaSaleCard key={index} data={data}/>\n                                })\n                                : <div className={classes.error}>\n                                    <CircularProgress/>\n                                </div>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default App;","import axios from \"axios\";\r\nimport {\r\n    setAviaSales,\r\n    setFetchError,\r\n    setIsFetching,\r\n    setSearchId\r\n} from \"../reducers/aviaSalesReducer\";\r\n\r\n\r\nexport const getAviaSales = (searchId) => {\r\n    return async (dispatch) => {\r\n        if (searchId) {\r\n            async function name() {\r\n                try {\r\n                    dispatch(setIsFetching(true))\r\n                    const response = await axios.get(`https://front-test.beta.aviasales.ru/tickets?searchId=${searchId}`)\r\n                    dispatch(setAviaSales(response.data.tickets))\r\n                } catch (e) {\r\n                    dispatch(setFetchError(true))\r\n                    dispatch(setIsFetching(false))\r\n                    setTimeout(() => {\r\n                        dispatch(setFetchError(false))\r\n                    }, 2000)\r\n                }\r\n            }\r\n            name()\r\n        }\r\n    }\r\n}\r\n\r\nexport const getSearchId = () => {\r\n    return async (dispatch) => {\r\n        const response = await axios.get('https://front-test.beta.aviasales.ru/search')\r\n        dispatch(setSearchId(response.data))\r\n    }\r\n}\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport {aviaSalesReducer} from \"./aviaSalesReducer\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    avia: aviaSalesReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./reducers\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}